<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>YAMAHA å‹æˆ°å››ä»£ (2UB) äº’å‹•å¼è»Šæ®¼æ‰£ä»¶æŒ‡å—</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@400;500;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Noto Sans TC', sans-serif;
        }
        .tab-active {
            background-color: #1e3a8a; /* Yamaha Blue */
            color: #ffffff;
        }
        .tab-inactive {
            background-color: #e5e7eb;
            color: #374151;
            transition: background-color 0.3s, color 0.3s;
        }
        .tab-inactive:hover {
            background-color: #d1d5db;
        }
        .sub-tab-active {
            background-color: #60a5fa;
            color: #ffffff;
            font-weight: 700;
        }
        .sub-tab-inactive {
             background-color: #f3f4f6;
             color: #4b5563;
             transition: background-color 0.3s, color 0.3s;
        }
        .sub-tab-inactive:hover {
            background-color: #e5e7eb;
        }
        .content-section, .sub-content-section {
            display: none;
        }
        .content-section.active, .sub-content-section.active {
            display: block;
        }
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 500px;
            margin-left: auto;
            margin-right: auto;
            height: 300px;
            max-height: 400px;
        }
        @media (min-width: 768px) {
            .chart-container {
                height: 350px;
            }
        }
    </style>
</head>
<body class="bg-slate-50 text-slate-800">
<!-- Chosen Palette: Yamaha Blue & Cool Gray -->
<!-- Application Structure Plan: Replicating the successful task-oriented SPA structure from the T2 guide. Tabs for "ç¸½è¦½", "å‰æ®µ", "ä¸­æ®µ", "å¾Œæ®µ", and a searchable "ç¸½ç›®éŒ„" provide immediate access to relevant information for a mechanic or DIYer. This structure is superior to the linear report as it anticipates user needs (e.g., "I'm working on the H-shell") and provides a direct path. The core interaction remains the live-searchable master list, which is the most critical tool for finding specific fastener data. -->
<!-- Visualization & Content Choices: Report Info: Fastener types (è‡ªæ”»èºçµ², èºæ “, èºå¸½, é‰šé‡˜) -> Goal: Inform on composition -> Viz: Bar Chart (Chart.js) showing counts. Justification: A quick visual overview of hardware. Report Info: Fastener tables per section -> Goal: Organize & Query -> Presentation: Interactive HTML table with a JS-powered live search filter in the "ç¸½ç›®éŒ„", and filtered, context-specific tables in the detailed sections. Justification: Core interactive feature for rapid information retrieval. Report Info: "å¯¦å‹™æ‹†å¸å»ºè­°" & "æŠ€è¡“å‚™è¨»" text -> Goal: Guide & Warn -> Presentation: Styled callout blocks with icons (HTML/CSS). Justification: Elevates critical, actionable advice from the body of the report, preventing user error. -->
<!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->

    <div class="container mx-auto p-4 md:p-8">
        <header class="text-center mb-8">
            <h1 class="text-3xl md:text-4xl font-bold text-blue-900">YAMAHA å‹æˆ°å››ä»£ (2UB)</h1>
            <p class="text-xl md:text-2xl text-slate-600 mt-2">äº’å‹•å¼è»Šèº«å¤–æ®¼æ‰£ä»¶æŒ‡å—</p>
        </header>

        <nav id="main-nav" class="flex flex-wrap justify-center gap-2 mb-8">
            <button data-target="overview" class="nav-tab tab-active px-4 py-2 rounded-lg font-semibold shadow">ç¸½è¦½èˆ‡æç¤º</button>
            <button data-target="front" class="nav-tab tab-inactive px-4 py-2 rounded-lg font-semibold shadow">å‰æ®µè»Šèº«</button>
            <button data-target="mid" class="nav-tab tab-inactive px-4 py-2 rounded-lg font-semibold shadow">ä¸­æ®µè»Šèº«</button>
            <button data-target="rear" class="nav-tab tab-inactive px-4 py-2 rounded-lg font-semibold shadow">å¾Œæ®µèˆ‡å¼•æ“å‘¨é‚Š</button>
            <button data-target="master-list" class="nav-tab tab-inactive px-4 py-2 rounded-lg font-semibold shadow">æ‰£ä»¶ç¸½ç›®éŒ„</button>
            <button data-target="purchase" class="nav-tab tab-inactive px-4 py-2 rounded-lg font-semibold shadow">æ¡è³¼èˆ‡çµ„è£</button>
        </nav>

        <main id="main-content">
            <section id="content-overview" class="content-section active">
                <div class="bg-white p-6 rounded-xl shadow-lg">
                    <h2 class="text-2xl font-bold text-blue-800 mb-4">æŒ‡å—ç°¡ä»‹èˆ‡é—œéµæ‹†è£ç­–ç•¥</h2>
                    <p class="mb-4 text-slate-700">æœ¬æŒ‡å—ç‚º YAMAHA ç¬¬å››ä»£å‹æˆ° (Cygnus-X, è»Šå‹ä»£è™Ÿ 2UB) çš„è»Šé«”å¤–æ®¼ï¼Œæä¾›ä¸€ä»½æ¬Šå¨ä¸”è©³ç›¡çš„æ‰£ä»¶æŒ‡å—ã€‚æ‰€æœ‰è³‡è¨Šå‡åŸºæ–¼å®˜æ–¹é›¶ä»¶å‹éŒ„ï¼Œä¸¦çµåˆå¯¦å‹™ç¶“é©—åˆ†æï¼Œæ—¨åœ¨ç‚º DIY æ„›å¥½è€…èˆ‡å°ˆæ¥­æŠ€å¸«æä¾›æœ€ç²¾ç¢ºçš„æ•¸æ“šæ”¯æ´ã€‚</p>
                    
                    <div class="bg-red-100 border-l-4 border-red-500 text-red-800 p-4 rounded-r-lg mb-6">
                        <h3 class="font-bold">âš ï¸ æ ¸å¿ƒæ‹†å¸é †åºè­¦å‘Š</h3>
                        <p class="mt-2">ç¬¬å››ä»£å‹æˆ°çš„è»Šæ®¼è¨­è¨ˆå¤§é‡æ¡ç”¨éš±è—å¼æ‰£ä»¶ï¼Œæ‹†è£å…·æœ‰åš´æ ¼çš„å…ˆå¾Œé †åºã€‚**éŒ¯èª¤çš„é †åºå°‡å°è‡´å¡æ¦«æ–·è£‚ã€‚**</p>
                        <ol class="list-decimal list-inside mt-2 space-y-1 font-semibold">
                            <li>ç”±åº§å¢Šèˆ‡ç½®ç‰©ç®±é–‹å§‹ã€‚</li>
                            <li>æ‹†å¸é¾é ­è»Šæ®¼ã€‚</li>
                            <li>é¬†é–‹æˆ–ç§»é™¤ H æ®¼ (å¤§ç›¾ç‰Œ) â€” é€™æ˜¯æ¥è§¸å´è“‹èºçµ²çš„é—œéµæ­¥é©Ÿã€‚</li>
                            <li>åœ¨ H æ®¼é¬†é–‹å¾Œï¼Œæ‰èƒ½å®‰å…¨æ‹†å¸å´è“‹ (é£›é¢)ã€‚</li>
                        </ol>
                    </div>

                    <h3 class="text-xl font-bold text-blue-800 mb-4">è»Šæ®¼æ‰£ä»¶é¡å‹åˆ†ä½ˆ</h3>
                    <div class="chart-container">
                        <canvas id="fastenerTypeChart"></canvas>
                    </div>
                    <p class="text-center text-slate-600 mt-2">æ­¤åœ–è¡¨å¿«é€Ÿå±•ç¤ºäº†æ§‹æˆè»Šæ®¼çš„ä¸»è¦æ‰£ä»¶é¡å‹èˆ‡æ•¸é‡ï¼Œè®“æ‚¨å°æ‰€éœ€ç¡¬é«”æœ‰å®è§€çš„äº†è§£ã€‚</p>
                </div>
            </section>

            <section id="content-front" class="content-section"></section>
            <section id="content-mid" class="content-section"></section>
            <section id="content-rear" class="content-section"></section>

            <section id="content-master-list" class="content-section">
                <div class="bg-white p-6 rounded-xl shadow-lg">
                    <h2 class="text-2xl font-bold text-blue-800 mb-4">è»Šèº«å¤–æ®¼æ‰£ä»¶ç¸½ç›®éŒ„</h2>
                    <p class="mb-4 text-slate-700">åœ¨æ­¤è™•æœå°‹æ‚¨éœ€è¦çš„ä»»ä½•æ‰£ä»¶ã€‚æ‚¨å¯ä»¥è¼¸å…¥é›¶ä»¶æ–™è™Ÿã€è¦æ ¼ï¼ˆä¾‹å¦‚ "M6"ï¼‰æˆ–æ‡‰ç”¨ä½ç½®ï¼ˆä¾‹å¦‚ "é¾é ­"ï¼‰ä¾†å¿«é€Ÿç¯©é¸çµæœã€‚</p>
                    <input type="text" id="searchInput" placeholder="æœå°‹æ–™è™Ÿã€è¦æ ¼æˆ–ä½ç½®..." class="w-full p-3 border border-slate-300 rounded-lg mb-4 focus:ring-2 focus:ring-blue-500 focus:border-blue-500">
                    <div class="overflow-x-auto">
                        <table class="w-full text-left border-collapse">
                            <thead class="bg-slate-100">
                                <tr>
                                    <th class="p-3 font-semibold text-sm">OEM æ–™è™Ÿ</th>
                                    <th class="p-3 font-semibold text-sm">æè¿°</th>
                                    <th class="p-3 font-semibold text-sm">è¦æ ¼</th>
                                    <th class="p-3 font-semibold text-sm">æ•¸é‡</th>
                                    <th class="p-3 font-semibold text-sm">ä¸»è¦æ‡‰ç”¨ä½ç½®</th>
                                </tr>
                            </thead>
                            <tbody id="masterTableBody">
                            </tbody>
                        </table>
                    </div>
                </div>
            </section>
            
            <section id="content-purchase" class="content-section">
                 <div class="bg-white p-6 rounded-xl shadow-lg">
                    <h2 class="text-2xl font-bold text-blue-800 mb-4">æ‰£ä»¶å‡ç´šèˆ‡çµ„è£æœ€ä½³å¯¦è¸</h2>
                    <div class="grid md:grid-cols-2 gap-6">
                        <div>
                            <h3 class="text-xl font-bold text-blue-800 mb-2">æ‰£ä»¶å‡ç´šè€ƒé‡</h3>
                            <div class="bg-slate-100 p-4 rounded-lg">
                                <h4 class="font-bold text-slate-800">åŸå»  (OEM) æ‰£ä»¶</h4>
                                <p class="text-slate-700 mt-1">ç‚ºéé‹…é‹¼æï¼Œç¬¦åˆåŸºæœ¬è€ç”¨æ€§ï¼Œä½†é•·æ™‚é–“ä½¿ç”¨å¾Œå¯èƒ½å‡ºç¾é½è•ã€‚</p>
                            </div>
                            <div class="bg-sky-100 border-l-4 border-sky-500 p-4 rounded-r-lg mt-4">
                                <h4 class="font-bold text-sky-800">ä¸é½é‹¼ (SUS304) å‡ç´š</h4>
                                <p class="text-sky-700 mt-1">æ˜¯è§£æ±ºç”Ÿé½å•é¡Œã€æå‡è³ªæ„Ÿçš„æœ€ä½³é¸æ“‡ã€‚å¸‚é¢ä¸Šæœ‰å®Œæ•´çš„å”®å¾Œå¥—ä»¶ï¼Œæ˜¯å€¼å¾—çš„é•·æœŸæŠ•è³‡ã€‚</p>
                            </div>
                        </div>
                        <div>
                            <h3 class="text-xl font-bold text-blue-800 mb-2">æœ€çµ‚çµ„è£æª¢æŸ¥æ¸…å–®</h3>
                            <ul class="list-decimal list-inside space-y-2 text-slate-700 bg-slate-100 p-4 rounded-lg">
                                <li>ä½¿ç”¨æ¨™ç±¤è¢‹åˆ†é¡èºçµ²ï¼Œé¿å…æ··æ·†ã€‚</li>
                                <li>æ‰€æœ‰èºçµ²åˆå§‹ç”¨æ‰‹æ—‹å…¥ï¼Œç¢ºä¿èºç‰™å°æº–ã€‚</li>
                                <li>éµå¾ªå°è§’æˆ–åå­—äº¤å‰é †åºé€æ­¥é–ç·Šã€‚</li>
                                <li>é–ç·Šå‰ï¼Œç¢ºèªæ‰€æœ‰å¡‘è† ä»¶çš„å¡æ¦«ã€æ’éŠ·æº–ç¢ºå°ä½ã€‚</li>
                                <li>æª¢æŸ¥æ‰€æœ‰å¡‘è† é‰šé‡˜ (`90269-06816`) æ˜¯å¦è€åŒ–ï¼Œå¿…è¦æ™‚æ›´æ›å‚™å“ã€‚</li>
                                <li>å®Œæˆå¾ŒçŸ­é€”è©¦é§•ï¼Œè¿”å›å¾Œå†æ¬¡å·¡è¦–ä¸¦ç·Šå›ºæ‰€æœ‰æ‰£ä»¶ã€‚</li>
                            </ul>
                        </div>
                    </div>
                 </div>
            </section>
        </main>
    </div>

<script>
const masterFastenerData = [
    { oem: "90183-05816", desc: "å½ˆç°§èºå¸½", spec: "5mm", qty: 4, loc: "é¾é ­è»Šæ®¼" },
    { oem: "90159-05028", desc: "é™„å¢Šåœˆèºçµ²", spec: "M5", qty: 2, loc: "é¾é ­è»Šæ®¼" },
    { oem: "97702-50016", desc: "è‡ªæ”»èºçµ²", spec: "5x16mm", qty: 4, loc: "é¾é ­è»Šæ®¼" },
    { oem: "90160-05803", desc: "è‡ªæ”»èºçµ²", spec: "M5", qty: 2, loc: "é¾é ­è»Šæ®¼" },
    { oem: "90183-05816", desc: "å½ˆç°§èºå¸½", spec: "5mm", qty: 6, loc: "Hæ®¼/è…¿éƒ¨è­·æ¿" },
    { oem: "97702-50016", desc: "è‡ªæ”»èºçµ²", spec: "5x16mm", qty: 6, loc: "Hæ®¼/è…¿éƒ¨è­·æ¿" },
    { oem: "90269-06816", desc: "å¡‘è† é‰šé‡˜", spec: "6mm", qty: 2, loc: "Hæ®¼/è…¿éƒ¨è­·æ¿" },
    { oem: "90109-06892", desc: "èºæ “", spec: "M6", qty: 2, loc: "Hæ®¼/è…¿éƒ¨è­·æ¿" },
    { oem: "90109-06172", desc: "èºæ “", spec: "M6", qty: 1, loc: "Hæ®¼/è…¿éƒ¨è­·æ¿" },
    { oem: "90154-06807", desc: "åœ“é ­èºçµ²", spec: "M6", qty: 4, loc: "å‰æ“‹æ³¥æ¿" },
    { oem: "90119-06821", desc: "é™„å¢Šåœˆèºæ “", spec: "M6", qty: 1, loc: "å‰æ“‹æ³¥æ¿" },
    { oem: "97707-50016", desc: "å¹³é ­è‡ªæ”»èºçµ²", spec: "5x16mm", qty: 6, loc: "å‰æ“‹æ³¥æ¿" },
    { oem: "90183-05816", desc: "å½ˆç°§èºå¸½", spec: "5mm", qty: 2, loc: "å‰æ“‹æ³¥æ¿" },
    { oem: "90183-06801", desc: "å½ˆç°§èºå¸½", spec: "6mm", qty: 2, loc: "å‰æ“‹æ³¥æ¿" },
    { oem: "97702-50016", desc: "è‡ªæ”»èºçµ²", spec: "5x16mm", qty: 2, loc: "å´è“‹" },
    { oem: "90183-05816", desc: "å½ˆç°§èºå¸½", spec: "5mm", qty: 2, loc: "å´è“‹" },
    { oem: "90109-06172", desc: "èºæ “", spec: "M6", qty: 4, loc: "å´è“‹" },
    { oem: "90109-06172", desc: "èºæ “", spec: "M6", qty: 4, loc: "è…³è¸æ¿" },
    { oem: "90109-06892", desc: "èºæ “", spec: "M6", qty: 2, loc: "è…³è¸æ¿" },
    { oem: "90183-05816", desc: "å½ˆç°§èºå¸½", spec: "5mm", qty: 3, loc: "è…³è¸æ¿" },
    { oem: "92012-08020", desc: "èºçµ²", spec: "M8", qty: 4, loc: "è…³è¸æ¿" },
    { oem: "95702-06500", desc: "å‡¸ç·£èºå¸½", spec: "M6", qty: 2, loc: "åº§å¢Š/ç½®ç‰©ç®±" },
    { oem: "90179-05849", desc: "èºå¸½", spec: "M5", qty: 2, loc: "åº§å¢Š/ç½®ç‰©ç®±" },
    { oem: "90109-06885", desc: "èºæ “", spec: "M6", qty: 4, loc: "åº§å¢Š/ç½®ç‰©ç®±" },
    { oem: "95022-08030", desc: "å‡¸ç·£èºæ “", spec: "M8", qty: 4, loc: "åº§å¢Š/ç½®ç‰©ç®±" },
    { oem: "90105-068C1", desc: "å¢Šåœˆåº§èºæ “", spec: "M6", qty: 2, loc: "åº§å¢Š/ç½®ç‰©ç®±" },
    { oem: "95827-08045", desc: "å‡¸ç·£èºæ “", spec: "M8x45mm", qty: 2, loc: "å¾Œæ‰¶æ‰‹" },
    { oem: "97702-50016", desc: "è‡ªæ”»èºçµ²", spec: "5x16mm", qty: 6, loc: "å°¾ç‡ˆ/å¾ŒåœŸé™¤" },
    { oem: "90109-06043", desc: "èºæ “", spec: "M6", qty: 2, loc: "å°¾ç‡ˆ/å¾ŒåœŸé™¤" },
    { oem: "95702-06500", desc: "å‡¸ç·£èºå¸½", spec: "M6", qty: 2, loc: "å°¾ç‡ˆ/å¾ŒåœŸé™¤" },
    { oem: "90183-05816", desc: "å½ˆç°§èºå¸½", spec: "5mm", qty: 2, loc: "å°¾ç‡ˆ/å¾ŒåœŸé™¤" },
    { oem: "90109-06172", desc: "èºæ “", spec: "M6", qty: 2, loc: "å°¾ç‡ˆ/å¾ŒåœŸé™¤" },
    { oem: "98507-06030", desc: "èºæ “", spec: "M6x30mm", qty: 9, loc: "å‚³å‹•å¤–è“‹" },
    { oem: "98507-06090", desc: "èºæ “", spec: "M6x90mm", qty: 2, loc: "å‚³å‹•å¤–è“‹" },
    { oem: "97707-50616", desc: "è‡ªæ”»èºçµ²", spec: "5x16mm", qty: 2, loc: "å‚³å‹•å¤–è“‹" },
    { oem: "98502-05020", desc: "ç›¤é ­èºçµ²", spec: "M5x20mm", qty: 7, loc: "ç©ºæ¿¾ç¸½æˆ" },
    { oem: "91312-06020", desc: "åœ“é ­èºæ “", spec: "M6x20mm", qty: 2, loc: "æ’æ°£ç®¡è­·ç‰‡" },
    { oem: "90201-06052", desc: "å¢Šç‰‡", spec: "6mm", qty: 2, loc: "æ’æ°£ç®¡è­·ç‰‡" },
];

const sectionsData = {
    front: {
        title: "å‰æ®µè»Šèº«ç¸½æˆ",
        intro: "æ­¤å€åŸŸæ¶µè“‹é¾é ­ã€H æ®¼ï¼ˆå¤§ç›¾ç‰Œï¼‰åŠå‰æ“‹æ³¥æ¿ã€‚å››ä»£å‹æˆ°æ¡ç”¨å¤§é‡éš±è—å¼æ‰£ä»¶ï¼Œæ‹†å¸å¿…é ˆéµå¾ªç‰¹å®šé †åºï¼Œé¿å…æå£å¡æ¦«ã€‚",
        subSections: [
            { 
                id: 'handlebar-cowling', 
                name: 'é¾é ­è»Šæ®¼',
                analysis: 'è¦†è“‹å„€è¡¨æ¿èˆ‡é¾é ­ï¼Œç”±å‰å¾Œå…©ç‰‡çµ„æˆã€‚æ‹†å¸æ™‚æ³¨æ„å½ˆç°§èºå¸½ (`90183-05816`) æ¥µæ˜“è„«è½æˆ–éºå¤±ï¼Œç¼ºå°‘æœƒå°è‡´è»Šæ®¼é¬†å‹•èˆ‡ç•°éŸ³ã€‚',
                fasteners: masterFastenerData.filter(d => d.loc === 'é¾é ­è»Šæ®¼')
            },
            {
                id: 'h-shell',
                name: 'Hæ®¼èˆ‡è…¿éƒ¨è­·æ¿',
                analysis: 'H æ®¼å›ºå®šæ–¹å¼åŒ…å«ç·Šå¯†çš„å€’æ‰£å¡æ¦«ï¼Œå»ºè­°ä½¿ç”¨å¡‘è† æ’¬æ£’å¾ç¸«éš™å®‰å…¨é‡‹æ”¾å¡æ¦«ã€‚æ­¤ç‚ºæ¥è§¸å´è“‹èºçµ²çš„å¿…è¦å‰ç½®æ­¥é©Ÿã€‚',
                fasteners: masterFastenerData.filter(d => d.loc === 'Hæ®¼/è…¿éƒ¨è­·æ¿')
            },
            {
                id: 'front-fender',
                name: 'å‰æ“‹æ³¥æ¿',
                analysis: 'ç›´æ¥å›ºå®šæ–¼å‰å‰ç¸½æˆï¼ŒåŒ…å«å¤–å±¤çƒ¤æ¼†ä»¶èˆ‡å…§å±¤å¡‘è† ä»¶ã€‚çµæ§‹å–®ç´”ï¼Œä½†èºçµ²æ˜“å› æ³¥æ²™å¡æ­»ã€‚',
                fasteners: masterFastenerData.filter(d => d.loc === 'å‰æ“‹æ³¥æ¿')
            }
        ]
    },
    mid: {
        title: "ä¸»è»Šé«”èˆ‡è…³è¸æ¿ç¸½æˆ",
        intro: "æ­¤å€åŒ…å«è»Šèº«å¤§é¢ç©çš„å´è“‹ï¼ˆé£›é¢ï¼‰ä»¥åŠé¨å£«çš„è…³è¸å€åŸŸï¼Œå®šç¾©äº†è»Šè¼›çš„è¼ªå»“ã€‚åŸå» èºçµ²æ˜“é½è•ï¼Œè¨±å¤šè»Šä¸»æœƒåœ¨æ­¤è™•å‡ç´šä¸é½é‹¼å¥—ä»¶ã€‚",
        subSections: [
            {
                id: 'side-covers',
                name: 'å´è“‹ (é£›é¢)',
                analysis: 'é—œéµï¼šå‰ç«¯å›ºå®šé»ä½æ–¼ H æ®¼å…§éƒ¨ï¼Œå¾Œç«¯å›ºå®šé»éœ€å…ˆç§»é™¤ç½®ç‰©ç®±æ‰èƒ½æ¥è§¸ã€‚å¿…é ˆåœ¨ H æ®¼é¬†é–‹å¾Œæ‰èƒ½å®‰å…¨æ‹†å¸ã€‚',
                fasteners: masterFastenerData.filter(d => d.loc === 'å´è“‹')
            },
            {
                id: 'floorboard',
                name: 'è…³è¸æ¿èˆ‡ä¸‹è­·æ¿',
                analysis: 'åŒ…å«é¨å£«ä¸»è¦çš„ç½®è…³å¹³å°ã€é›»ç“¶è“‹ã€‚å¯ç¨ç«‹æ‹†å¸ï¼Œä½†é€šå¸¸èˆ‡å´è“‹æ‹†å¸ä½œæ¥­ä¸€ä½µé€²è¡Œã€‚',
                fasteners: masterFastenerData.filter(d => d.loc === 'è…³è¸æ¿')
            }
        ]
    },
    rear: {
        title: "å¾Œæ®µèˆ‡å¼•æ“å‘¨é‚Šç¸½æˆ",
        intro: "æ¶µè“‹ä¹˜å®¢å€ã€ç½®ç‰©ç®±ã€å°¾ç‡ˆã€å¾Œæ‰¶æ‰‹ï¼Œä»¥åŠèˆ‡å¼•æ“ç›¸é—œçš„å‚³å‹•è“‹ã€ç©ºæ¿¾èˆ‡æ’æ°£ç®¡è­·ç‰‡ç­‰ã€‚æ‹†å¸ç½®ç‰©ç®±æ˜¯å¤šæ•¸å¾Œæ®µç¶­ä¿®çš„ç¬¬ä¸€æ­¥ã€‚",
        subSections: [
            {
                id: 'seat-storage',
                name: 'åº§å¢Šèˆ‡ç½®ç‰©ç®±',
                analysis: 'ç§»é™¤åº§å¢Šèˆ‡ç½®ç‰©ç®±ï¼ˆé¦¬æ¡¶ï¼‰æ˜¯é€²è¡Œè»Šè¼›å¾ŒåŠéƒ¨æ‰€æœ‰ç¶­ä¿®å·¥ä½œçš„ç¬¬ä¸€æ­¥ï¼Œèƒ½å®Œå…¨æš´éœ²å´è“‹å¾Œæ–¹ã€å¾Œæ‰¶æ‰‹åŠå°¾ç‡ˆç¸½æˆçš„å›ºå®šèºçµ²ã€‚',
                fasteners: masterFastenerData.filter(d => d.loc === 'åº§å¢Š/ç½®ç‰©ç®±')
            },
            {
                id: 'rear-grab',
                name: 'å¾Œæ‰¶æ‰‹èˆ‡å°¾ç‡ˆ',
                analysis: 'å¾Œæ‰¶æ‰‹ç›´æ¥é–åœ¨è»Šæ¶ä¸Šã€‚å°¾ç‡ˆèˆ‡å¾ŒåœŸé™¤ç¸½æˆå‰‡å›ºå®šæ–¼å‰¯è»Šæ¶æœ«ç«¯ã€‚',
                fasteners: masterFastenerData.filter(d => d.loc === 'å¾Œæ‰¶æ‰‹' || d.loc === 'å°¾ç‡ˆ/å¾ŒåœŸé™¤')
            },
            {
                id: 'engine-covers',
                name: 'å¼•æ“å‘¨é‚Šè­·è“‹',
                analysis: 'åŒ…å«å‚³å‹•å¤–è“‹ã€ç©ºæ¿¾å¤–è“‹èˆ‡æ’æ°£ç®¡è­·ç‰‡ã€‚é€™äº›éƒ½å±¬æ–¼ç¨ç«‹ç³»çµ±ï¼Œå¯å–®ç¨æ‹†å¸é€²è¡Œä¿é¤Šã€‚',
                fasteners: masterFastenerData.filter(d => ['å‚³å‹•å¤–è“‹', 'ç©ºæ¿¾ç¸½æˆ', 'æ’æ°£ç®¡è­·ç‰‡'].includes(d.loc))
            }
        ]
    }
};

document.addEventListener('DOMContentLoaded', () => {
    const mainNav = document.getElementById('main-nav');
    const mainContent = document.getElementById('main-content');
    const searchInput = document.getElementById('searchInput');
    const masterTableBody = document.getElementById('masterTableBody');

    function createMasterTableRows(data) {
        if (!data || data.length === 0) return '<tr><td colspan="5" class="text-center p-4 text-slate-500">ç„¡ç¬¦åˆçµæœ</td></tr>';
        return data.map((item, index) => `
            <tr class="${index % 2 === 0 ? 'bg-white' : 'bg-slate-50'} border-b">
                <td class="p-3 text-sm text-slate-700">${item.oem}</td>
                <td class="p-3 text-sm text-slate-700">${item.desc}</td>
                <td class="p-3 text-sm font-mono text-blue-600">${item.spec}</td>
                <td class="p-3 text-sm text-center font-semibold">${item.qty}</td>
                <td class="p-3 text-sm text-slate-700">${item.loc}</td>
            </tr>
        `).join('');
    }
    
    function createSubSectionTableRows(data) {
        return data.map((item, index) => `
            <tr class="${index % 2 === 0 ? 'bg-white' : 'bg-slate-50'} border-b">
                <td class="p-3 text-sm text-slate-700">${item.oem}</td>
                <td class="p-3 text-sm text-slate-700">${item.desc}</td>
                <td class="p-3 text-sm font-mono text-blue-600">${item.spec}</td>
                <td class="p-3 text-sm text-center font-semibold">${item.qty}</td>
            </tr>
        `).join('');
    }

    function renderMasterTable(data) {
        masterTableBody.innerHTML = createMasterTableRows(data);
    }
    
    function createSectionHTML(sectionKey) {
        const section = sectionsData[sectionKey];
        if (!section) return '';

        let subNavHTML = section.subSections.map((sub, index) => `
            <button data-sub-section-id="${sub.id}" class="sub-nav-tab ${index === 0 ? 'sub-tab-active' : 'sub-tab-inactive'} px-4 py-2 rounded-md text-sm font-medium">${sub.name}</button>
        `).join('');

        let subContentHTML = section.subSections.map((sub, index) => `
            <div id="content-${sub.id}" class="sub-content-section ${index === 0 ? 'active' : ''}">
                <div class="bg-sky-50 border-l-4 border-sky-400 text-sky-800 p-4 rounded-r-lg my-4">
                    <h4 class="font-bold">ğŸ”§ æ‹†è£åˆ†æèˆ‡æŠ€å·§</h4>
                    <p class="mt-1 text-sm">${sub.analysis}</p>
                </div>
                <div class="overflow-x-auto">
                    <table class="w-full text-left border-collapse">
                        <thead class="bg-slate-100">
                            <tr>
                                <th class="p-3 font-semibold text-sm">OEM æ–™è™Ÿ</th>
                                <th class="p-3 font-semibold text-sm">æè¿°</th>
                                <th class="p-3 font-semibold text-sm">è¦æ ¼</th>
                                <th class="p-3 font-semibold text-sm">æ•¸é‡</th>
                            </tr>
                        </thead>
                        <tbody>
                            ${createSubSectionTableRows(sub.fasteners)}
                        </tbody>
                    </table>
                </div>
            </div>
        `).join('');

        return `
            <div class="bg-white p-6 rounded-xl shadow-lg">
                <h2 class="text-2xl font-bold text-blue-800 mb-2">${section.title}</h2>
                <p class="mb-4 text-slate-700">${section.intro}</p>
                <div class="flex flex-wrap gap-2 border-b pb-4">
                    ${subNavHTML}
                </div>
                <div>
                    ${subContentHTML}
                </div>
            </div>
        `;
    }

    document.getElementById('content-front').innerHTML = createSectionHTML('front');
    document.getElementById('content-mid').innerHTML = createSectionHTML('mid');
    document.getElementById('content-rear').innerHTML = createSectionHTML('rear');

    mainNav.addEventListener('click', (e) => {
        if (e.target.matches('.nav-tab')) {
            const targetId = e.target.dataset.target;
            
            mainNav.querySelectorAll('.nav-tab').forEach(tab => {
                tab.classList.remove('tab-active', 'text-white');
                tab.classList.add('tab-inactive', 'text-slate-800');
            });

            e.target.classList.add('tab-active', 'text-white');
            e.target.classList.remove('tab-inactive', 'text-slate-800');

            mainContent.querySelectorAll('.content-section').forEach(section => {
                section.classList.remove('active');
            });
            
            document.getElementById(`content-${targetId}`).classList.add('active');
            
            if(targetId === 'master-list'){
                renderMasterTable(masterFastenerData);
            }
        }
    });

    mainContent.addEventListener('click', (e) => {
        if (e.target.matches('.sub-nav-tab')) {
            const subSectionId = e.target.dataset.subSectionId;
            const parentContainer = e.target.closest('.bg-white');
            if (!parentContainer) return;

            parentContainer.querySelectorAll('.sub-nav-tab').forEach(tab => {
                tab.classList.remove('sub-tab-active');
                tab.classList.add('sub-tab-inactive');
            });
            
            e.target.classList.add('sub-tab-active');
            e.target.classList.remove('sub-tab-inactive');

            parentContainer.querySelectorAll('.sub-content-section').forEach(section => {
                section.classList.remove('active');
            });
            
            parentContainer.querySelector(`#content-${subSectionId}`).classList.add('active');
        }
    });

    searchInput.addEventListener('input', (e) => {
        const searchTerm = e.target.value.toLowerCase();
        const filteredData = masterFastenerData.filter(item => 
            item.oem.toLowerCase().includes(searchTerm) ||
            item.desc.toLowerCase().includes(searchTerm) ||
            item.spec.toLowerCase().includes(searchTerm) ||
            item.loc.toLowerCase().includes(searchTerm)
        );
        renderMasterTable(filteredData);
    });
    
    function createFastenerTypeChart() {
        const ctx = document.getElementById('fastenerTypeChart').getContext('2d');
        
        const typeCounts = masterFastenerData.reduce((acc, item) => {
            let type = item.desc;
            if (type.includes('è‡ªæ”»')) type = 'è‡ªæ”»èºçµ²';
            else if (type.includes('èºæ “')) type = 'èºæ “';
            else if (type.includes('èºçµ²')) type = 'æ©Ÿæ¢°èºçµ²';
            else if (type.includes('èºå¸½')) type = 'èºå¸½';
            else if (type.includes('é‰šé‡˜') || type.includes('å¢Šç‰‡')) type = 'æ‰£å…·/å¢Šç‰‡';
            else type = 'å…¶ä»–';
            
            acc[type] = (acc[type] || 0) + item.qty;
            return acc;
        }, {});
        
        new Chart(ctx, {
            type: 'bar',
            data: {
                labels: Object.keys(typeCounts),
                datasets: [{
                    label: 'æ‰£ä»¶æ•¸é‡',
                    data: Object.values(typeCounts),
                    backgroundColor: [
                        'rgba(30, 64, 175, 0.7)',
                        'rgba(29, 78, 216, 0.7)',
                        'rgba(37, 99, 235, 0.7)',
                        'rgba(59, 130, 246, 0.7)',
                        'rgba(96, 165, 250, 0.7)',
                        'rgba(147, 197, 253, 0.7)'
                    ],
                    borderColor: 'rgba(30, 58, 138, 1)',
                    borderWidth: 1
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: {
                        display: false
                    },
                    tooltip: {
                         callbacks: {
                            label: function(context) {
                                return `${context.label}: ${context.parsed.y} å€‹`;
                            }
                        }
                    }
                },
                scales: {
                    y: {
                        beginAtZero: true,
                        title: {
                            display: true,
                            text: 'ç¸½æ•¸é‡'
                        }
                    },
                    x: {
                        ticks: {
                           maxRotation: 0,
                           minRotation: 0
                        }
                    }
                }
            }
        });
    }

    createFastenerTypeChart();
});
</script>
</body>
</html>
